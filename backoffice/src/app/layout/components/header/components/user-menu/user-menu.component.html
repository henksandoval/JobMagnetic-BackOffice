<button mat-button [matMenuTriggerFor]="userMenu" class="user-menu-button">
  @if (currentUser?.avatar) {
    <img [src]="currentUser!.avatar" [alt]="currentUser!.name" class="user-avatar">
  } @else {
    <div class="user-avatar-placeholder">
      <app-icon iconName="person" size="md"></app-icon>
    </div>
  }
  <span class="hidden md:inline">{{ currentUser?.name || 'Usuario Demo' }}</span>
  <app-icon iconName="arrow_drop_down"></app-icon>
</button>

<mat-menu #userMenu="matMenu">
  <div class="user-info" mat-menu-item disabled>
    <div class="user-details">
      <span class="user-name">{{ currentUser?.name || 'Usuario Demo' }}</span>
      <span class="user-email">{{ currentUser?.email || 'demo@admin.com' }}</span>
    </div>
  </div>
  <mat-divider></mat-divider>
  <button mat-menu-item class="menu-item" (click)="onProfileClick()">
    <app-icon iconName="account_circle"></app-icon>
    <span>Perfil</span>
  </button>
  <button mat-menu-item class="menu-item">
    <app-icon iconName="settings"></app-icon>
    <span>Ajustes</span>
  </button>
  <mat-divider></mat-divider>
  <button mat-menu-item (click)="onLogoutClick()" class="menu-item">
    <app-icon iconName="logout"></app-icon>
    <span>Cerrar Sesi√≥n</span>
  </button>
</mat-menu>
